<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head('CrÃ©er / Ã‰diter tÃ¢che')"></head>
<body>
<div th:replace="fragments/header :: navbar"></div>

<section class="max-w-2xl mx-auto bg-white shadow mt-10 rounded-lg p-6">
    <h2 class="text-xl font-semibold mb-4" th:text="${task.id} == null ? 'CrÃ©er une tÃ¢che' : 'Modifier la tÃ¢che'"></h2>

    <form th:action="@{/tasks/save}" th:object="${task}" method="post" class="space-y-4">
        <div>
            <label class="block text-sm font-medium text-gray-700">Titre</label>
            <input type="text" th:field="*{title}" required
                   class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand"/>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">Description</label>
            <textarea th:field="*{description}" rows="4"
                      class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand"></textarea>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">Statut</label>
            <select th:field="*{status}"
                    class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand">
                <option th:each="s : ${statuses}" th:value="${s}" th:text="${s}"></option>
            </select>
        </div>

        <div class="flex justify-end space-x-2">
            <button type="submit"
                    class="px-5 py-2 bg-brand text-white rounded-lg shadow hover:bg-brand-dark transition">
                ðŸ’¾ Enregistrer
            </button>
            <a href="/tasks" class="px-5 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">
                Annuler
            </a>
        </div>
    </form>
</section>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
